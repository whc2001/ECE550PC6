# Verilog 模块

- [x] PS/2 键盘输入
- [ ] 根据多种寄存器渲染游戏画面
- [ ] 随机数生成
- [ ] 胶水逻辑

# MIPS 新指令

- `pkey $rd` 读按键状态寄存器到 $rd 并重设为0（0=没有新动作 1=按下 2=弹起）
- `sscr $rd` 写 $rd 到分数显示寄存器，值被 Verilog 钳制在（0-99）
- `shis $rd` 写 $rd 到最高分显示寄存器？，值被 Verilog 钳制在（0-99）
- `ssta $rd` 写游戏状态显示寄存器，控制屏幕渲染（0=点击开始 1=游戏进行中 2=游戏结束）
- `spos $rd` 写 $rd 到鸟的位置显示寄存器... （鸟只在 y 轴上移动）
- 柱子的位置? 柱子的数量? 柱子的表示法（以空挡的位置表示？）


# MIPS 逻辑
```
状态 == 0:
    初始化
    等待按键 == 1
    状态 = 1
状态 == 1:
    if 碰撞检测:
        状态 = 2
    if 按键 == 1:
        更新速度&加速度
    else
        更新速度
    重新计算鸟的坐标
    计算柱子位置
    更新分数
状态 == 2:
    从 dmem 读取最高分
    更新分数和最高分显示
    if 分数 > 最高分:
        写入最高分到 dmem
    等待按键 == 1
    状态 = 0
```